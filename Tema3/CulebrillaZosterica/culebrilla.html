<!DOCTYPE html>
<html>

<body>
    <!DOCTYPE html>
    <html>

    <body>
        <h2>kulevrilla Zostérica</h2>
        <script>
            let arr = [[" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", "*", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "]
            ];

            //No incluye el número que se le pasa como segundo parámetro.
            function generateRandomInt(min, max) {
                return Math.floor((Math.random() * (max - min)) + min);
            }

            console.table(arr)

            let resuelveEjercicio = (x, y) => {
                arr[x][y] = "*";

                let numAleatorio = generateRandomInt(0, 4);
                console.log(numAleatorio)

                switch (numAleatorio) {
                    //Crece hacia arriba:
                    case 0:
                        if (x - 1 >= 0 && arr[x - 1][y] != "*") {
                            resuelveEjercicio(x - 1, y);
                        }
                        break;
                    //Crece hacia la abajo:
                    case 1:
                        if (x + 1 < arr.length && arr[x + 1][y] != "*") {
                            resuelveEjercicio(x + 1, y)
                        }
                        break;
                    //Crece hacia la izquierda:
                    case 2:
                        if (y - 1 >= 0 && arr[x][y - 1] != "*") {
                            resuelveEjercicio(x, y - 1)
                        }
                        break;
                    //Crece hacia la derecha:
                    case 3:
                        if (y + 1 <= arr[x].length && arr[x][y + 1] != "*") {
                            resuelveEjercicio(x, y + 1)
                        }
                        break;
                }
            }

            let resuelveJC = (fila, columna) => {
                arr[fila][columna] = "*";

                let pila = [];

                //Crece hacia arriba:
                if (fila > 0 && arr[fila - 1][columna] != "*" && cuantosArround(fila - 1, columna) == 1) {
                    pila.push("N");
                }
                //Crece hacia abajo:
                if (fila < arr.length - 1 && arr[fila + 1][columna] == "*" && cuantosArround(fila + 1, columna) == 1) {
                    pila.push("S")
                }
                //Crece hacia la izquierda:
                if (columna > 0 && arr[fila][columna - 1] == "*" && cuantosArround(fila, columna - 1) == 1) {
                    pila.push("O")
                }
                //Crece hacia la derecha:
                if (columna < arr[fila].length - 1 && arr[fila][columna + 1] == "*" && cuantosArround(fila, columna + 1) == 1) {
                    pila.push("E");
                }

                if (pila.length > 0) {
                    let n = generateRandomInt(0, pila.length);
                    let next = pila[n];

                    let newfila = fila;
                    let newcolumna = columna;

                    switch (next) {
                        case "N":
                            newfila--;
                            break;
                        case "S":
                            newfila++;
                            break;
                        case "E":
                            newcolumna++;
                            break;
                        case "O":
                            newcolumna--;
                            break;
                    }
                }
            }

            let cuantosArround = (fila, columna) => {
                let cuantos = 0;
                //Hacia arriba:
                if (fila > 0 && arr[fila - 1][columna] == "*") {
                    cuantos++;
                }
                //Hacia abajo:
                if (fila < arr.length - 1 && arr[fila + 1][columna] == "*") {
                    cuantos++;
                }
                //Hacia la izquierda:
                if (columna > 0 && arr[fila][columna - 1] == "*") {
                    cuantos++;
                }
                //Hacia la derecha:
                if (columna < arr[fila].length - 1 && arr[fila][columna + 1] == "*") {
                    cuantos++;
                }
                return cuantos;
            }

            resuelveJC(4, 6);
            console.table(arr)
        </script>
    </body>

    </html>