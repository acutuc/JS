<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Retos II</title>
        <meta charset="UTF-8">
    </head>
    <body>

    </body>
    <script>
        var cars = ["Saab", "Volvo", "BMW",["Honda", "Toyota",["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var carrakos = ["Chevrolet", "Tesla", "BMW",["Honda", "Infiniti",["Lexus", "Mercedes", "Kia"], "Hyunday"],["Mazda", "Mercedes", "Jeep",["KTM", "Nissan", "Isuzu"]]];
        //Alguien sabe hacer una lista única de coches con los dos arrays (sin repeticiones)?
        let listaUnica = cars.flat(Infinity).concat(carrakos.flat(Infinity)).sort();

        let listaSinRepetir = listaUnica.map((valor, indice, arr) =>{
            if(valor != arr[indice - 1]){
                    return valor;
                
            }
        }
        ).filter((valor) =>{
            if(valor != undefined){
                return valor;
            }
        })
        console.log(listaUnica)
        console.log(listaSinRepetir)

        //Alguien sabría decirme los coches de carrakos que no estén en cars?
        var cars = ["Saab", "Volvo", "BMW",["Honda", "Toyota",["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var buddies = [{firstName:"Chuck", lastName:"Norris", car:"Honda"},{firstName:"Yakie", lastName:"Chang", car:"BMW"},{firstName:"Bruce", lastName:"Lee", car:"Honda"},{firstName:"Steven", lastName:"Seagal", car:"Lada"}];

        cars = cars.flat(Infinity);
        carrakos = carrakos.flat(Infinity);

        let carrakosNoCars = carrakos.filter(valor => cars.find(coche => coche == valor) == undefined)
        console.log(carrakosNoCars)
        //-Nombre y apellidos de los buddies que usan un Honda
        let buddiesHonda = buddies.filter((valor)=>valor.car.includes("Honda")).map((valor)=>{
            return valor.firstName + " " + valor.lastName;
        })
        console.log(buddiesHonda)

        //-Marcas utilizadas por los buddies
        let marcasBuddies = buddies.map((valor) => valor.car)
        console.log(marcasBuddies)
        
        //-Marcas no utilizadas por los buddies.
        let marcasNoBuddies = buddies.map(valor => valor.car);
        console.log(listaSinRepetir.filter(valor => valor != marcasBuddies.find(value => value == valor)))
        
        //-Cuantas marcas han sido utilizadas
        console.log(listaSinRepetir.filter(valor => valor == marcasBuddies.find(value => value == valor)))
        
    </script>
</html>