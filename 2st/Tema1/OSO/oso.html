<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSO</title>
</head>

<body>
    <script>
        let tablero = new Array();
        let maxx = 9;
        let maxy = 9;

        function aleatorio(min, max) {
            var horquilla = max - min;
            //Incluye ambos valores:
            return Math.round(Math.random() * horquilla + min);
        }

        function rellena(filas, columnas) {
            // aquí tendrás que rellenar la matriz.
            //Declaramos un array, donde pasaremos por parámetro las columnas
            let arrayBidimensional = new Array(columnas);

            for (let i = 0; i < columnas; i++) {
                //A cada posición del array, le asignamos un nuevo array indicando las filas,
                arrayBidimensional[i] = new Array(filas);

                for (let j = 0; j < filas; j++) {
                    //Si aleatorio es 1 o 3, imprimimos una O, si es 2, imprimimos una S
                    //Habrá un 66% de O's y un 33% de S's.
                    if (aleatorio(1, 3) % 2 != 0) {
                        arrayBidimensional[i][j] = "O";
                    } else {
                        arrayBidimensional[i][j] = "S";
                    }
                }
            }
            return arrayBidimensional;
        }

        function resuelve(matriz) {
            //función que resuelve el juego
            //Recorremos la matriz:
            for (let i = 0; i < matriz.length; i++) {
                for (let j = 0; j < matriz[i].length; j++) {
                    //Y buscamos las "S":
                    if (matriz[i][j] == "S") {
                        //Cuando encontramos una "S", empezamos a mirar horizontal, vertical y diagonal, si hay antes y después "O"'s
                        
                        //REVISAR AQUÍ QUE NO SE SALGA DE LA MATRIZ!!!!!!!!-----------------------------------------------------

                        //Para "OSO"'s horizontales:
                        if (matriz[i][j - 1] == "O" && matriz[i][j + 1] == "O") {
                            matriz[i][j - 1] = "";
                            matriz[i][j] = "";
                            matriz[i][j + 1] = "";
                        }

                        //Para "OSO"'s verticales:
                        if(matriz[i - 1][j] == "O" && matriz[i + 1][j] == "O"){
                            matriz[i - 1][j] = "";
                            matriz[i][j] = "";
                            matriz[i + 1][j] = "";
                        }
                    }
                }
            }
            return matriz;
        }

        //console.log(aleatorio(0, 3))
        let matrizGenerada = rellena(8, 8);

        console.log("Matriz original:")
        console.table(matrizGenerada);

        console.log("Matriz resuelta: ")
        console.table(resuelve(matrizGenerada))

    </script>
</body>

</html>